<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">

#logondiv{
  display: block;
}

#consolediv{
  display: none;
}

#top_bardiv{
  display: none;
}

#disconnectmsgdiv{
  display: none;
  border: thin solid red;
}

#maxuserdiv{
    display: none;
    border: thin solid red;
  }

#readmeterdivbox{
    display: none;
}

#writemeterdivbox{
    display: none;
}

#settingdivbox{
  display: none;
}

#infordivbox{
  display: none;
}

*{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /*box-sizingï¼š padding-box;*/
  font-family: 'Verdana',sans-serif;
}

body{
  overflow-x: hidden;
}

.main-logon{
  width: 100%;
  height: 100vh;
  position: relative;
}

.box{
  width: 280px;
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 30px;
  background: linear-gradient(45deg, #47cebe, #363ead);
  border-radius: 10px;
}

.logo {
display: block;
margin-left: auto;
margin-right: auto;
width: 80%;
}
.box h1{
margin-bottom: 30px;  
color:#ffff;
text-align: center;
text-transform: capitalize;
}
.box .inputbox{
  position: relative;
}
.box .inputbox input{
  width: 100%;
  padding: 10px;
  font-size: 16px;
  color: #ffff;
  letter-spacing: 1px;
  margin-bottom: 30px;
  border: none;
  border-bottom: 1px solid #ffff;
  background: transparent;
  outline: none;

}
.box .inputbox label{
  position: absolute;
  top: 0;
  left: 0;
  letter-spacing: 1px;
  padding: 10px 0;
  font-size: 16px;
  color: #ffff;
  transition: 0.5s;
}
.box .inputbox input:focus ~label,
.box .inputbox input:valid ~label {
  top: -20px;
  left:0;
  color: DarkBlue;
  font-size:12px;
}
.box input[type="submit"] {
  background: transparent;
  border: none;
  outline: none;
  color: #ffff;
  background: #03a9f4;
  padding: 10px 50px;
  border-radius: 5px;
  font-size: 14px;
}
.box input:hover {
color: DarkBlue;
font-weight: bold;
opacity: 0.4;
}

.idt_usrcntmsg{
  padding-top: 20px;
  text-align: center;
  font-size: 12px;
  color: red;
}

.console{
  position: relative;
  width: 100%;
}

.sidebar{
  position: fixed;
  width: 250px;
  height: 100%;
  background: #c4ccff;
  overflow-x: hidden;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  padding-top: 20px;
  padding-bottom: 20px;
}

.sidelogo{
  position: relative;
  width: 60px;
  height: 45px;
}

.sidemenulogo {
  font: normal 16px Verdana;
  align-items: left;
  color: MidnightBlue;
}

.sidebar ul li a{
  width: 100%;
  text-decoration: none;
  color: #fff;
  height: 60px;
  display: flex;
  align-items: center;
}
.sidebar ul li a i{
  min-width: 60px;
  font-size: 30px;
  text-align: center;
}

.sidemenu {
  font: normal 18px Verdana;
  align-items: left;
  color: DarkBlue;
}

.sidemenu:hover{
  fill: LightSkyBlue;
  color: LightSkyBlue;
}

.main{
  position: absolute;
  width: calc(100% - 250px);
  min-height: 100vh;
  left: 250px;
  background: #f5f5f5;
}

.top-bar{  
  background: #ffffff;
  position: fixed;
  height: 80px;
  width: 100%;
  z-index: 2;
}

.top-bar .top-text{
  display: grid;
  padding: 0 20px;
  padding-top: 25px;
}

.disconnect_msg{
  background: #ffffff;
  position: fixed;
  height: 80px;
  z-index: 2;
  vertical-align: middle;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  width: calc(100% - 250px);
}

.content{
  overflow: hidden;
  margin-top: 80px;
  position: relative;
  z-index: 1;
}

.elapsedtext
{
  text-align: right;
}

.cardbox{
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  padding: 20px;
}

.c_typeset02{
  font: normal 18px Verdana;
  align-items: left;
}

.c_typeset01{
  font: normal 16px Verdana;
}

.c_typeset02 tr, td {
  text-align:left  ;
  padding: 10px; 
}

.darkenrow{
    background-color: rgb(225, 227, 235);
}

table{
  margin: 10px;
  width: calc(100% - 10px);
  border-collapse: collapse;
}

.heading{
  font: normal 18px Verdana;
  align-items: left;
  color: DarkBlue;
}

td,
th {
    border: .5px solid rgb(168, 163, 163);
    padding: 5px 10px;
}

table tr{
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

table tbody tr:last-child{
  border-bottom: none;
}

@media(max-width:1480px){
  .sidebar{
    width: 60px;
  }
  .main{
    width: calc(100% - 60px);
    left: 60px;
  }
  .disconnect_msg{
    width: calc(100% - 60px);
    left: 60px;
  }
}

@media(max-width:1360px){
  .heading{
    font: normal 15px Verdana;
  }
}

@media(max-width:700px){
  .heading{
    font: normal 12px Verdana;
  }
  .list{
    font: normal 12px Verdana;
  }
}

</style>
    <title>Feeder Pillar Monitoring</title>
    </head>
    <body>
        <div class="main-logon" id="logondiv">
            <div class="box">
                <img src="logo.png" class="logo" alt="Logo">
                <h1 style="color:lightblue; font-weight: 500; "> Feeder Pillar Monitoring Login</h1>
                <div class="inputbox">
                    <input type="text" id="username" autocomplete="off" maxlength="23"  required>
                    <label for="username">Username</label>
                </div>
                <div class="inputbox">
                    <input type="text" id="password" autocomplete="off" maxlength="23" required>
                    <label for="password">Password</label>
                </div>
                <input type="submit" value="login" id="submit" onclick="validate()">
                <div class="idt_usrcntmsg">
                    <span id="idt_usrcntmsg"></span>
                </div>
            </div>
        </div>
        <div class="console" id="consolediv">
            <div class="sidebar">
                <ul>
                    <li>
                        <a>
                            <div><img src="logo.png" class="sidelogo" alt="Side logo">  </div> 
                            <div class="sidemenulogo">Sena Traffic System&#174;</div>
                        </a>
                    </li>
          
                    <li>
                        <a onclick="displayreadmeter()" id="readmeter-label">
                            <i><svg class="sidemenu" fill="#000000" width="40px" height="40px" viewBox="0 0 24 24">
                                <path d="M19 9.99611V12L22 9L19 6V7.99376C18.309 7.94885 17.9594 7.6644 17.4402 7.23176L17.4283 7.22188C16.7967 6.6955 15.9622 6 14.4 6C12.8378 6 12.0033 6.69551 11.3717 7.22188L11.3598 7.23178C10.7928 7.70427 10.428 8 9.6 8C8.772 8 8.40717 7.70427 7.84018 7.23178L7.82831 7.22188C7.59036 7.02357 7.32361 6.80126 7 6.60118V9.12312C7.58472 9.56529 8.36495 10 9.6 10C11.1622 10 11.9967 9.30449 12.6283 8.77812L12.6402 8.76822C13.2072 8.29573 13.572 8 14.4 8C15.228 8 15.5928 8.29573 16.1598 8.76821L16.1717 8.77811C16.7758 9.28156 17.5655 9.93973 19 9.99611Z" />
                                <path d="M7 17.1231C7.58472 17.5653 8.36495 18 9.6 18C11.1622 18 11.9967 17.3045 12.6283 16.7781L12.6402 16.7682C13.2072 16.2957 13.572 16 14.4 16C15.228 16 15.5928 16.2957 16.1598 16.7682L16.1717 16.7781C16.7758 17.2816 17.5655 17.9397 19 17.9961V20L22 17L19 14V15.9938C18.309 15.9488 17.9594 15.6644 17.4402 15.2318L17.4283 15.2219C16.7967 14.6955 15.9622 14 14.4 14C12.8378 14 12.0033 14.6955 11.3717 15.2219L11.3598 15.2318C10.7928 15.7043 10.428 16 9.6 16C8.772 16 8.40717 15.7043 7.84018 15.2318L7.82831 15.2219C7.59036 15.0236 7.32361 14.8013 7 14.6012V17.1231Z" />
                                <path d="M5 4H15V8.03662C15.8985 8.15022 16.5162 8.51098 17 8.87686V4C17 2.89543 16.1046 2 15 2H5C3.89543 2 3 2.89543 3 4V20C3 21.1046 3.89543 22 5 22H15C16.1046 22 17 21.1046 17 20V19.3988C16.6764 19.1987 16.4096 18.9764 16.1717 18.7781L16.1598 18.7682C15.7512 18.4277 15.4476 18.179 15 18.0666V20H5L5 4Z" />
                                <path d="M15 16.0366C15.8985 16.1502 16.5162 16.511 17 16.8769V11.3988C16.6764 11.1987 16.4096 10.9764 16.1717 10.7781L16.1598 10.7682C15.7512 10.4277 15.4476 10.179 15 10.0666V16.0366Z" />
                            </svg></i>
                            <div class="sidemenu">Read meter</div>
                        </a>
                    </li>

                    <li>
                        <a onclick="displaywritemeter()" id="writemeter-label">
                            <i><svg class="sidemenu" fill="#000000" width="40px" height="40px" viewBox="0 0 23 23">
                                <path d="M19 4H9V5.03663C10.1861 5.1866 10.8829 5.7673 11.4283 6.22187L11.4402 6.23176C12.0072 6.70425 12.372 6.99999 13.2 7C13.5244 7 13.7778 6.9546 14 6.87096V5L17 8L14 11V8.93331C13.7563 8.97591 13.4907 9 13.2 9C11.6378 8.99998 10.8033 8.30448 10.1717 7.77811L10.1598 7.76821C9.59284 7.29573 9.228 7 8.4 7C7.572 7 7.20717 7.29573 6.64018 7.76822L6.62831 7.77812C5.99672 8.30449 5.16219 9 3.6 9C2.9549 9 2.43388 8.8814 2 8.70508V6.36411C2.48227 6.75883 2.85228 7 3.6 7C4.428 7 4.79283 6.70427 5.35982 6.23178L5.37169 6.22188C5.78135 5.88046 6.27639 5.46789 7 5.2201V4C7 2.89543 7.89543 2 9 2H19C20.1046 2 21 2.89543 21 4V20C21 21.1046 20.1046 22 19 22H9C7.89543 22 7 21.1046 7 20V17.4773C7.39493 17.1776 7.75842 17 8.4 17C8.63131 17 8.82648 17.0231 9 17.0666V20H19V4Z" />
                                <path d="M8.4 9C8.63131 9 8.82648 9.02308 9 9.06664V13.0366C10.1861 13.1866 10.8829 13.7673 11.4283 14.2219L11.4402 14.2318C12.0072 14.7043 12.372 15 13.2 15C13.5244 15 13.7778 14.9546 14 14.871V13L17 16L14 19V16.9333C13.7563 16.9759 13.4907 17 13.2 17C11.6378 17 10.8033 16.3045 10.1717 15.7781L10.1598 15.7682C9.59284 15.2957 9.228 15 8.4 15C7.572 15 7.20717 15.2957 6.64018 15.7682L6.62831 15.7781C5.99672 16.3045 5.16219 17 3.6 17C2.9549 17 2.43388 16.8814 2 16.7051V14.3641C2.48227 14.7588 2.85228 15 3.6 15C4.428 15 4.79283 14.7043 5.35982 14.2318L5.37169 14.2219C5.78135 13.8805 6.27639 13.4679 7 13.2201V9.47732C7.39493 9.17756 7.75842 9 8.4 9Z" />
                                </svg></i>
                            <div class="sidemenu">Write meter</div>
                        </a>
                    </li>

                    <li>
                        <a onclick="displaysetting()" id="setting-label">
                            <i><svg class="sidemenu" fill="#000000" width="40px" height="40px" viewBox="0 0 24 24">
                            <path d="M12 9.75C10.7574 9.75 9.75 10.7574 9.75 12C9.75 13.2426 10.7574 14.25 12 14.25C13.2426 14.25 14.25 13.2426 14.25 12C14.25 10.7574 13.2426 9.75 12 9.75ZM8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12Z" />
                            <path d="M9.60347 3.77018C9.3358 3.32423 8.77209 3.18551 8.35347 3.43457L8.34256 3.44105L6.61251 4.43096C6.06514 4.74375 5.8763 5.45289 6.1894 5.9948L5.54 6.37001L6.18888 5.99391C6.72395 6.91704 6.86779 7.92882 6.38982 8.75823C5.91192 9.58753 4.96479 9.97001 3.9 9.97001C3.26678 9.97001 2.75 10.4917 2.75 11.12V12.88C2.75 13.5084 3.26678 14.03 3.9 14.03C4.96479 14.03 5.91192 14.4125 6.38982 15.2418C6.86773 16.0711 6.72398 17.0827 6.18909 18.0058C5.87642 18.5476 6.06491 19.2561 6.6121 19.5688L8.35352 20.5654C8.77214 20.8144 9.33577 20.6758 9.60345 20.2299L9.71093 20.0442C10.2458 19.1214 11.052 18.4925 12.0087 18.4925C12.9662 18.4925 13.77 19.1219 14.3 20.0458C14.3002 20.0462 14.3004 20.0466 14.3007 20.047L14.4065 20.2298C14.6742 20.6758 15.2379 20.8145 15.6565 20.5655L15.6674 20.559L17.3975 19.5691C17.9434 19.2571 18.1351 18.5578 17.8198 18.0038C17.2858 17.0813 17.1426 16.0705 17.6202 15.2418C18.0981 14.4125 19.0452 14.03 20.11 14.03C20.7432 14.03 21.26 13.5084 21.26 12.88V11.12C21.26 10.4868 20.7384 9.97001 20.11 9.97001C19.0452 9.97001 18.0981 9.58753 17.6202 8.75824C17.1423 7.92899 17.286 6.91744 17.8208 5.99445C18.1336 5.45258 17.9451 4.74391 17.3979 4.43119L15.6565 3.43466C15.2379 3.1856 14.6742 3.32423 14.4065 3.77019L14.2991 3.95579C13.7642 4.8786 12.958 5.50751 12.0012 5.50751C11.0439 5.50751 10.2402 4.87825 9.71021 3.95455C9.70992 3.95403 9.70962 3.95352 9.70933 3.95301L9.60347 3.77018ZM7.59248 2.14193C8.75191 1.45656 10.2226 1.87704 10.8946 3.00654L10.8991 3.01421L11.0091 3.20423L11.0107 3.20701C11.3807 3.85247 11.7666 4.00751 12.0012 4.00751C12.237 4.00751 12.6259 3.85115 13.0009 3.20423C13.001 3.20412 13.0009 3.20434 13.0009 3.20423L13.1154 3.00651C13.7874 1.877 15.2581 1.45656 16.4175 2.14193L18.1421 3.12883C19.4147 3.85604 19.8463 5.48713 19.1194 6.74522L19.1189 6.74611C18.7439 7.39298 18.8028 7.8062 18.9198 8.00929C19.0369 8.21249 19.3648 8.47001 20.11 8.47001C21.5616 8.47001 22.76 9.65323 22.76 11.12V12.88C22.76 14.3317 21.5768 15.53 20.11 15.53C19.3648 15.53 19.0369 15.7875 18.9198 15.9907C18.8028 16.1938 18.7439 16.607 19.1189 17.2539L19.1212 17.2579C19.8444 18.5235 19.4157 20.1431 18.1425 20.871C18.1424 20.871 18.1426 20.8709 18.1425 20.871L16.4174 21.8581C15.258 22.5434 13.7874 22.123 13.1154 20.9935L13.1109 20.9858L13.0009 20.7958L12.9993 20.793C12.6293 20.1476 12.2434 19.9925 12.0087 19.9925C11.773 19.9925 11.3841 20.1489 11.0091 20.7958C11.009 20.7959 11.0091 20.7957 11.0091 20.7958L10.8946 20.9935C10.2226 22.123 8.75199 22.5434 7.59257 21.8581L5.8679 20.8712C5.86776 20.8711 5.86803 20.8713 5.8679 20.8712C4.59558 20.1439 4.16378 18.5128 4.8906 17.2548L4.89112 17.2539C5.26605 16.607 5.20721 16.1938 5.09018 15.9907C4.97308 15.7875 4.64521 15.53 3.9 15.53C2.43322 15.53 1.25 14.3317 1.25 12.88V11.12C1.25 9.66837 2.43322 8.47001 3.9 8.47001C4.64521 8.47001 4.97308 8.21249 5.09018 8.00929C5.20721 7.8062 5.26605 7.39298 4.89112 6.74611L4.8906 6.74522C4.16378 5.48726 4.59518 3.85639 5.86749 3.12906L7.59248 2.14193Z"/>
                            </svg></i>
                            <div class="sidemenu">Setting</div>
                        </a>
                    </li>
          
                    <li>
                        <a onclick="displayinfor()" id="infor-label">
                            <i><svg class="sidemenu" fill="#000000" height="38px" width="38px" version="1.1" id="Icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                            viewBox="0 0 24 24" xml:space="preserve">
                            <path d="M12,0C5.38,0,0,5.38,0,12s5.38,12,12,12s12-5.38,12-12S18.62,0,12,0z M12,22C6.49,22,2,17.51,2,12S6.49,2,12,2
                            s10,4.49,10,10S17.51,22,12,22z M10.5,10h3v8h-3V10z M10.5,5h3v3h-3V5z"/>
                            </svg></i>
                            <div class="sidemenu">Information</div>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="main">
                <div class="top-bar" id="top_bardiv">
                    <div class="top-text"> 
                        <h1 style="font-size:24px">Feeder Pillar Monitor</h1><span id="idt_dttm"></span>
                    </div>
                </div>
                <div class="disconnect_msg" id="disconnectmsgdiv">
                    <p>WebSocket connection is auto renewing and this message will clear. Reason: <span id="idt_discnct_rs" style="color:blue";></span> Please also make sure network settings are correct.</p>
                </div>
                <div class="disconnect_msg" id="maxuserdiv">
                    <p>A new user has logged in reaching the number of allowed of simultaneous users. You you are disconnected. Please use Refresh to re-login.</p>
                </div>
                
                <div class="content">
                    <div class="cardbox" id="readmeterdivbox">
                        <div class="heading">
                            <h2>Meter Readings: </h2>
                        </div>
                        <div class="elapsedtext">
                            <h5>last update <span id="idt_selaps"></span></h5>
                        </div>
                        <table class="c_typeset02">
                            <tr class="darkenrow">
                                <td style="width:60%;"><div><span id="mbe0" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale0" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe1" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale1" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe2" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale2" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe3" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale3" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe4" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale4" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe5" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale5" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe6" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale6" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe7" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale7" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe8" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale8" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe9" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale9" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe10" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale10" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe11" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale11" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe12" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale12" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe13" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale13" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe14" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale14" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe15" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale15" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe16" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale16" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe17" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale17" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe18" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale18" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe19" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale19" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe20" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale20" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe21" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale21" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe22" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale22" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe23" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale23" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe24" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale24" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe25" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale25" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe26" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale26" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe27" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale27" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe28" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale28" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe29" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale29" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe30" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale30" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe31" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale31" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe32" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale32" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe33" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale33" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe34" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale34" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe35" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale35" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe36" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale36" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe37" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale37" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe38" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale38" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe39" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale39" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe40" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale40" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe41" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale41" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe42" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale42" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe43" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale43" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe44" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale44" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe45" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale45" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe46" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale46" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe47" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale47" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe48" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale48" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe49" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale49" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe50" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale50" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe51" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale51" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe52" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale52" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe53" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale53" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe54" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale54" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe55" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale55" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe56" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale56" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe57" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale57" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe58" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale58" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe59" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale59" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe60" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale60" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe61" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale61" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe62" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale62" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe63" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale63" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe64" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale64" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe65" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale65" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe66" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale66" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe67" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale67" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe68" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale68" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe69" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale69" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe70" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale70" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe71" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale71" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe72" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale72" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe73" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale73" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe74" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale74" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe75" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale75" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe76" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale76" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe77" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale77" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe78" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale78" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe79" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale79" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe80" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale80" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe81" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale81" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe82" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale82" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe83" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale83" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe84" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale84" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe85" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale85" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe86" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale86" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe87" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale87" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe88" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale88" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe89" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale89" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe90" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale90" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe91" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale91" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe92" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale92" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe93" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale93" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe94" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale94" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe95" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale95" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbe96" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale96" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe97" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale97" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe98" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale98" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr class="darkenrow">
                                <td><div><span id="mbe99" class="c_typeset01"></span><span class="c_typeset01">:</span></div></td><td><div><span id="vale99" class="c_typeset01"></span></div></td>
                            </tr>
                        </table>
                        <h6>Error legend</h6>
                        <h6>0=SERIAL NO ACTIVITY</h6>
                        <h6>1=ILLEGAL FUNCTION</h6>
                        <h6>2=ILLEGAL DATA ADDRESS</h6>
                        <h6>3=ILLEGAL DATA VALUE</h6>
                        <h6>4=SLAVE DEVICE FAILURE</h6>
                        <h6>5=ACKNOWLEDGE</h6>
                        <h6>6=SLAVE DEVICE BUSY</h6>
                        <h6>8=MEMORY PARITY ERROR</h6>
                        <h6>10=GATEWAY PATH UNAVAILABLE</h6>
                        <h6>11=GATEWAY TARGET NO RESPONSE</h6>
                    </div>

                    <div class="cardbox" id="writemeterdivbox">
                        <div class="heading">
                            <h2>Write Meter: </h2>
                        </div>
                        <table class="c_typeset02">
                            <tr>
                                <td><div> 
                                <p>Modbus Rtu</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                        <div>
                                            <input type="text" name="idv_mbrxbt" id="idv_mbrxbt" autocomplete="off" oninput="setting_oninput(this)" style="width: 100%;">
                                        </div>
                                        <input type="button" onclick="SubmitModbusWrite(this)" id="btn_mbsv" value="  Send  ">
                                        <div>
                                            <p>Status: <span id="idt_mbstatus"></span></p>
                                        </div>
                                </div></td>
                            </tr>
                        </table>
                        <h6>Error legend</h6>
                        <h6>0=SERIAL NO ACTIVITY</h6>
                        <h6>1=ILLEGAL FUNCTION</h6>
                        <h6>2=ILLEGAL DATA ADDRESS</h6>
                        <h6>3=ILLEGAL DATA VALUE</h6>
                        <h6>4=SLAVE DEVICE FAILURE</h6>
                        <h6>5=ACKNOWLEDGE</h6>
                        <h6>6=SLAVE DEVICE BUSY</h6>
                        <h6>8=MEMORY PARITY ERROR</h6>
                        <h6>10=GATEWAY PATH UNAVAILABLE</h6>
                        <h6>11=GATEWAY TARGET NO RESPONSE</h6>
                    </div>

                    <div class="cardbox" id="settingdivbox">
                        <div class="heading">
                            <h2>Device Setting: </h2>
                        </div>
                        <table class="c_typeset02">
                            <tr>
                                <td><div> 
                                <p>Administrator Login</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                    <div>
                                        <label for="idv_lg_namead">Username: </label>
                                        <input type="text" name="idv_lg_namead" id="idv_lg_namead" autocomplete="off" oninput="setting_oninput(this)" maxlength="23" required>
                                    </div>
                                    <div>
                                        <label for="idv_lg_pswdad">Password: </label>
                                        <input type="text" name="idv_lg_pswdad" id="idv_lg_pswdad" autocomplete="off" oninput="setting_oninput(this)" maxlength="23" required>
                                    </div>
                                    <div>
                                        <input type="button" onclick="formSubmitSettingLogonAd(this)" id="btn_lgcredad_sv" value="  SAVE  ">
                                    </div>
                                </div></td>
                            </tr>
                            <tr>
                                <td><div> 
                                <p>Supervisor Login</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                    <div>
                                        <label for="idv_lg_namesv">Username: </label>
                                        <input type="text" name="idv_lg_namesv" id="idv_lg_namesv" autocomplete="off" oninput="setting_oninput(this)" maxlength="23" required>
                                    </div>
                                    <div>
                                        <label for="idv_lg_pswdsv">Password: </label>
                                        <input type="text" name="idv_lg_pswdsv" id="idv_lg_pswdsv" autocomplete="off" oninput="setting_oninput(this)" maxlength="23" required>
                                    </div>
                                    <div>
                                        <input type="button" onclick="formSubmitSettingLogonSv(this)" id="btn_lgcredsv_sv" value="  SAVE  ">
                                    </div>
                                </div></td>
                            </tr>
                            <tr>
                                <td><div> 
                                    <p>WiFi AP Password</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                    <div>
                                        <label for="idv_wfap_pswd">Password: </label>
                                        <input type="text" name="idv_wfap_pswd" id="idv_wfap_pswd" autocomplete="off" oninput="setting_oninput(this)" maxlength="23" required>
                                    </div>
                                    <div>
                                        <input type="button" onclick="formSubmitSettingWiFiAPPassword(this)" id="btn_wfpswd_sv" value="  SAVE  ">
                                    </div>
                                </div></td>
                            </tr>
                            <tr>
                                <td><div> 
                                    <p>Ethernet</p> 
                                </div></td>
                            </tr>
                            <tr>
                                <td><div>
                                    <div> 
                                    <p>Status: <span id="idt_ethcnct_stat"></span></p>
                                    <p>Enable: <span><input type="checkbox" id="chkbx_ethen" oninput="setting_oninput(this)"></span></p>
                                    <p>Use Static IP: <span><input type="checkbox" id="chkbx_ethsen" oninput="setting_oninput(this)"></span></p>
                                    </div>
                                    <div>
                                        <label for="idv_ethsip">Static IP Address: </label>
                                        <input type="text" id="idv_ethsip" autocomplete="off" oninput="setting_oninput(this)" maxlength="23">
                                    </div>  
                                    <div>
                                        <label for="idv_ethgw">Gateway Address: </label>
                                        <input type="text" id="idv_ethgw" autocomplete="off" oninput="setting_oninput(this)" maxlength="23">
                                    </div>
                                    <div>
                                        <label for="idv_ethsubnet">Subnet Mask: </label>
                                        <input type="text" id="idv_ethsubnet" autocomplete="off" oninput="setting_oninput(this)" maxlength="23">
                                    </div>
                                    <div>  
                                        <input type="button" onclick="SaveEthernet()" id="btn_cnct_eth" value="  SAVE  ">
                                    </div>
                                </div></td>
                            </tr>
                            <tr>
                                <td><div> 
                                <p>Firmware Update</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                    <div>
                                        <p>Status: <span id="idt_swupdate_stat"></span><span id="idt_swupdate_prcnt"></span></p>
                                        <input id="newfile" type="file" onchange="setpath()" style="width:100%;">
                                        <p>Boot: <span><input type="checkbox" id="chkbx_slct_boot" oninput="setting_oninput(this)"></span></p>
                                        <p>Data: <span><input type="checkbox" id="chkbx_slct_data" oninput="setting_oninput(this)"></span></p>
                                        <input id="btn_swupdate" type="button" onclick="fwupdate()" value="  UPLOAD & UPDATE  ">
                                    </div>
                                </div></td>
                            </tr>
                            <tr>
                                <td><div> 
                                <p>Device Reset</p>
                                </div></td>
                            </tr> 
                            <tr>
                                <td><div>
                                    <div>
                                        <input id="btn_reset" type="button" onclick="reset()" value="  RESET  ">
                                    </div>
                                </div></td>
                            </tr>
                        </table>
                    </div>

                    <div class="cardbox" id="infordivbox">
                        <div class="heading">
                            <h2>Network Information: </h2>
                        </div>
                        <table class="c_typeset02">
                            <tr>
                                <td style="width:60%"><div><span class="c_typeset02">Firmware Version: </span></div></td><td><div><span id="FirmVer" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Network Mode(s): </span></div></td> <td><div><span id="networkmode" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Wifi MAC: </span></div></td> <td><div><span id="wifimac" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Wifi AP IP: </span></div></td> <td><div><span id="wifiapip" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Ethernet MAC: </span></div></td> <td><div><span id="ethmac" class="c_typeset01"></span></div></td>
                            </tr> 
                            <tr>
                                <td><div><span class="c_typeset02"> Ethernet IP: </span></div></td> <td><div><span id="ethip" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Ethernet Gateway: </span></div></td> <td><div><span id="ethgway" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Ethernet Subnet Mask: </span></div></td> <td><div><span id="ethsub" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span class="c_typeset02"> Serial: </span></div></td> <td><div><span id="serial" class="c_typeset01"></span></div></td>
                            </tr> 
                        </table>
                        <div class="heading">
                            <h2>Meter Information: </h2>
                        </div>
                        <table class="c_typeset02">
                            <tr>
                                <td style="width:60%;"><div><span id="mbi0" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali0" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi1" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali1" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi2" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali2" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi3" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali3" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi4" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali4" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi5" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali5" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi6" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali6" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi7" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali7" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi8" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali8" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi9" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali9" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi10" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali10" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi11" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali11" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi12" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali12" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi13" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali13" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi14" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali14" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi15" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali15" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi16" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali16" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi17" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali17" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi18" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali18" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi19" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali19" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi20" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali20" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi21" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali21" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi22" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali22" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi23" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali23" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi24" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali24" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi25" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali25" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi26" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali26" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi27" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali27" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi28" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali28" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi29" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali29" class="c_typeset01"></span></div></td>
                            </tr>
                            <tr>
                                <td><div><span id="mbi30" class="c_typeset02"></span><span class="c_typeset02">:</span></div></td><td><div><span id="vali30" class="c_typeset01"></span></div></td>
                            </tr>
                        </table>
                        <h6>Error legend</h6>
                        <h6>0=SERIAL NO ACTIVITY</h6>
                        <h6>1=ILLEGAL FUNCTION</h6>
                        <h6>2=ILLEGAL DATA ADDRESS</h6>
                        <h6>3=ILLEGAL DATA VALUE</h6>
                        <h6>4=SLAVE DEVICE FAILURE</h6>
                        <h6>5=ACKNOWLEDGE</h6>
                        <h6>6=SLAVE DEVICE BUSY</h6>
                        <h6>8=MEMORY PARITY ERROR</h6>
                        <h6>10=GATEWAY PATH UNAVAILABLE</h6>
                        <h6>11=GATEWAY TARGET NO RESPONSE</h6>
                    </div>
                </div>
            </div>
        </div>
        <script>

var gateway;
var websocket;
var display_instruction = 0;
var hash_now;
var textsendout_CntID = 0;
var textsendin_CntID = 0;
var set_logonad_confirmed = 1;
var set_logonsv_confirmed = 1;
var set_wifi_ap_confirmed = 1;
var set_ethernet_confirmed = 1;
var key = "0";
var get_started = 0;
var force_close = 0;
var next_reconnect = 0;
var default_path;
var upload_path;
var validate_enter = 0;
var wait_reload_handle;
var file_transferring = 0;
var upload_once = 0;
var has_reset = 0;

window.addEventListener('load', onload);

window.addEventListener('hashchange', function(){
  
  if(display_instruction != 1)
  {
      console.log("~Hash change @browser buttons");
      hash_now = location.hash;
      displayLocationHash();
  }
  display_instruction = 0;
});

function displayLocationHash()
{
    if(location.hash == "#/")
    {
        _displaylogon();
    }
    else if(location.hash == "#/rdmeter")
    {
       displayreadmeter();
    }
    else if(location.hash == "#/wrmeter")
    {
       displaywritemeter();
    }
    else if(location.hash == "#/setting")
    {
        displaysetting();
    }
    else if(location.hash == "#/infor")
    {
        displayinfor();
    }
    else
    {
        displaylogon();
    }
    return;
}

function DisplayLocationHash()
{
    if(location.hash == "#/")
    {
        _displaylogon();
    }
    else if(location.hash == "#/rdmeter")
    {
        _displayreadmeter();
    }
    else if(location.hash == "#/wrmeter")
    {
        _displaywritemeter();
    }
    else if(location.hash == "#/setting")
    {
        _displaysetting();
    }
    else if(location.hash == "#/infor")
    {
        _displayinfor();
    }
    else
    {
        _displaylogon();
    }
    return;
}

function GetLocationHashValue()
{
    if(location.hash == "#/")
    {
        displaylogon();
    }
    else if(location.hash == "#/rdmeter")
    {
        sendws("&console#rdmeter?");
    }
    else if(location.hash == "#/wrmeter")
    {
        sendws("&console#wrmeter?");
    }
    else if(location.hash == "#/setting")
    {
        sendws("&console#setting?");
    }
    else if(location.hash == "#/infor")
    {
        sendws("&console#infor?");
    }
    else
    {
        displaylogon();
    }
    return;
}

function onload(event)
{
    location.hash = "/";
    fetch("/custommsg", {
        method: "POST",
        body: JSON.stringify({
          custommsg: "usercnt",
        }),
        headers: {
          "Content-type": "application/json; charset=UTF-8"
        }
      })
    .then
    (response =>
    {
        if (!response.ok) 
        {
        }
        
        return response.json();
    })
    .then
    (json => 
    {
        document.getElementById("idt_usrcntmsg").innerHTML = json.active_user + "/" + json.max_user + " users active";
    })
    .catch(function () 
    {
    });
    
    return;
}

function initWebSocket()
{
    force_close = 0;
    gateway = `ws://${window.location.host}/ws` + String(key);
    console.log("~initWebsocket");
    websocket = new WebSocket(gateway);
    websocket.onopen = onOpen;
    websocket.onclose = onClose;
    websocket.onmessage = onMessage;
    return;
}

function onClose(event)
{   
    console.log("WebSocket onClose..");
    send_array = [];
    document.getElementById("disconnectmsgdiv").style.display = "block";
    if(force_close == 0)
    {
        setTimeout(initWebSocket, 2000);  
    }
    return;
}

function setpath()
{
    default_path = document.getElementById("newfile").files[0].name;
    document.getElementById("idt_swupdate_stat").innerHTML = "Not Started";
    document.getElementById("idt_swupdate_stat").style.color = "orange";
    document.getElementById("chkbx_slct_boot").checked = false;
    document.getElementById("chkbx_slct_data").checked = false;
    document.getElementById("chkbx_slct_boot").disabled = false;
    document.getElementById("chkbx_slct_data").disabled = false;
    document.getElementById("btn_swupdate").disabled = true;
}

function delayed_close()
{
    websocket.close();
}

function reset()
{
    has_reset = 1;
    document.getElementById("btn_reset").disabled = true;
    document.getElementById("idt_discnct_rs").innerHTML = "Device reset.";
    sendws("&console#reset");
    setTimeout(delayed_close, 500);
}

function fwupdate()
{
    var fileInput = document.getElementById("newfile").files;
    document.getElementById("idt_discnct_rs").innerHTML = "File transfer priority.";
    upload_once = 1;
    document.getElementById("idt_swupdate_stat").innerHTML = "In Progress..";
    document.getElementById("idt_swupdate_stat").style.color = "purple";
    document.getElementById("newfile").disabled = true;
    document.getElementById("btn_swupdate").disabled = true;
    document.getElementById("chkbx_slct_data").disabled = true;
    document.getElementById("chkbx_slct_boot").disabled = true;
    file_transferring = 1;

    if (fileInput.length == 0)
    {
        document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
        document.getElementById("idt_swupdate_stat").style.color = "red";
        document.getElementById("newfile").disabled = false;
        document.getElementById("chkbx_slct_data").disabled = false;
        document.getElementById("chkbx_slct_boot").disabled = false;
        document.getElementById("chkbx_slct_boot").checked = false;
        document.getElementById("chkbx_slct_data").checked = false;
    } 
    else if (upload_path.length == 0) 
    {
        document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
        document.getElementById("idt_swupdate_stat").style.color = "red";
        document.getElementById("newfile").disabled = false;
        document.getElementById("chkbx_slct_data").disabled = false;
        document.getElementById("chkbx_slct_boot").disabled = false;
        document.getElementById("chkbx_slct_boot").checked = false;
        document.getElementById("chkbx_slct_data").checked = false;
    } 
    else if (upload_path.indexOf(' ') >= 0) 
    {
        document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
        document.getElementById("idt_swupdate_stat").style.color = "red";
        document.getElementById("newfile").disabled = false;
        document.getElementById("chkbx_slct_data").disabled = false;
        document.getElementById("chkbx_slct_boot").disabled = false;
        document.getElementById("chkbx_slct_boot").checked = false;
        document.getElementById("chkbx_slct_data").checked = false;
    } 
    else if (upload_path[upload_path-1] == '/') 
    {
        document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
        document.getElementById("idt_swupdate_stat").style.color = "red";
        document.getElementById("newfile").disabled = false;
        document.getElementById("chkbx_slct_data").disabled = false;
        document.getElementById("chkbx_slct_boot").disabled = false;
        document.getElementById("chkbx_slct_boot").checked = false;
        document.getElementById("chkbx_slct_data").checked = false;
    }  
    else 
    {

        if(document.getElementById("chkbx_slct_boot").checked == true)
        {
            if (fileInput[0].size > 1220000) 
            {
                document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
                document.getElementById("idt_swupdate_stat").style.color = "red";
                document.getElementById("newfile").disabled = false;
                document.getElementById("chkbx_slct_data").disabled = false;
                document.getElementById("chkbx_slct_boot").disabled = false;
                document.getElementById("chkbx_slct_boot").checked = false;
                document.getElementById("chkbx_slct_data").checked = false;
                return;
            }
        }
        if(document.getElementById("chkbx_slct_data").checked == true)
        {
            if (fileInput[0].size > 180224)
            {
                document.getElementById("idt_swupdate_stat").innerHTML = "Bad File";
                document.getElementById("idt_swupdate_stat").style.color = "red";
                document.getElementById("newfile").disabled = false;
                document.getElementById("chkbx_slct_data").disabled = false;
                document.getElementById("chkbx_slct_boot").disabled = false;
                document.getElementById("chkbx_slct_boot").checked = false;
                document.getElementById("chkbx_slct_data").checked = false;
                return;
            }
        }
        sendws("&console#waitupload");
    }
}

function sendws(str)
{
    if(force_close == 0)
    {
        websocket.send(str + "*" + String(key) + "*" + String(textsendout_CntID));
        textsendout_CntID++;
    }
    return;
}

function onOpen(event)
{
    console.log("~WebSocket onOpen");
    force_close = 0;
    document.getElementById("idt_discnct_rs").innerHTML = "Receive timeout.";
    textsendin_CntID = 0;
    textsendout_CntID = 0;
    sendws("&console#new_ws=");
    return;
}

function wait_reload()
{
    if(validate_enter != 0)
    {
        location.reload();
    }
}

function validate()
{
    let username_ = String(document.getElementById("username").value);
    let password_ = String(document.getElementById("password").value);
    var nmpsw =  "/login";

    if(validate_enter == 1)
    {
        return;
    }
    validate_enter = 1;
    document.getElementById("submit").disabled = true;
    alert("Login submitted.");
    wait_reload_handle = setTimeout(wait_reload, 6500);

    fetch(nmpsw, {
        method: "POST",
        body: JSON.stringify({
          username: username_,
          password: password_,
        }),
        headers: {
          "Content-type": "application/json; charset=UTF-8"
        }
      })
    .then
    (response =>
    {
        validate_enter = 0;
        if (!response.ok) 
        {
            document.getElementById("submit").disabled = false;
            console.log(response.json());
            alert("Username/Password error.");

        }
        return response.json();
    })
    .then
    (json => 
    {
        validate_enter = 0;
        key = json.key;
        if(key != "0")
        {
            setTimeout(initWebSocket, 500);
        }
        else
        {
            document.getElementById("submit").disabled = false;
            alert(json.msg);
        }
    })
    .catch(function () 
    {
    });

    return;
}

function formSubmitSettingLogonAd()
{
    let username;
    let password;

    set_logonad_confirmed = 0;

    document.getElementById("btn_lgcredad_sv").disabled = true;
    username = String(document.getElementById("idv_lg_namead").value);
    password = String(document.getElementById("idv_lg_pswdad").value);

    if((username.length < 1) || (password.length < 1))
    {
        alert("You have entered an invalid Administrator Login Username/Password!");
        return;
    }

    sendws("&console#setting=logonad?{\"username\":\"" + username + "\",\"userpsw\":\"" + password + "\"}");
    return;
}

function formSubmitSettingLogonSv()
{
    let username;
    let password;

    set_logonsv_confirmed = 0;

    document.getElementById("btn_lgcredsv_sv").disabled = true;
    username = String(document.getElementById("idv_lg_namesv").value);
    password = String(document.getElementById("idv_lg_pswdsv").value);

    if((username.length < 1) || (password.length < 1))
    {
        alert("You have entered an invalid Supervisor Login Username/Password!");
        return;
    }
    sendws("&console#setting=logonsv?{\"username\":\"" + username + "\",\"userpsw\":\"" + password + "\"}");
    return;
}

function SubmitModbusWrite()
{
    document.getElementById("idt_mbstatus").innerHTML = "Sending..";
    document.getElementById("idt_mbstatus").style.color = "purple";
    document.getElementById("btn_mbsv").disabled = true;
    document.getElementById("idv_mbrxbt").disabled = true;
    sendws("&console#modbuswr?" + document.getElementById("idv_mbrxbt").value);
    return;   
}

function formSubmitSettingWiFiAPPassword()
{
    let wifipass;

    set_wifi_ap_confirmed = 0;

    document.getElementById("btn_wfpswd_sv").disabled = true;
    wifipass = String(document.getElementById("idv_wfap_pswd").value);

    if(wifipass.length < 8)
    {
        alert("You have entered an invalid WiFi Password");
        return;
    }
    sendws("&console#setting=wifipass?{\"wifiappsw\":\"" + wifipass + "\"}");
    return;
}

function ValidateIPaddress(inputText)
{
    var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
    if(inputText.match(ipformat))
    {
        return 1;
    }
    else
    {
        alert("You have entered an invalid IP address/Gateway/Subnet Mask!");
        return 0;
    }
}

function SaveEthernet()
{
    let _ENethernet;
    let _ethgateway;
    let _ethip;
    let _ethsubnet;
    let _ENethstaticip;
    let send_str;

    set_ethernet_confirmed = 0;

    document.getElementById("btn_cnct_eth").disabled = true;
    if(document.getElementById("chkbx_ethen").checked == true)
    {
        _ENethernet = "Yes";
    }
    else if(document.getElementById("chkbx_ethen").checked == false)
    {
        _ENethernet= "No";
    }

    _ethgateway = document.getElementById("idv_ethgw").value;
    _ethip = document.getElementById("idv_ethsip").value;
    _ethsubnet = document.getElementById("idv_ethsubnet").value;

    if(document.getElementById("chkbx_ethsen").checked == true)
    {
        _ENethstaticip = "Yes";
        
        if(ValidateIPaddress(_ethgateway) == 0)
        {
            return;
        }
        if(ValidateIPaddress(_ethip) == 0)
        {
            return;
        }
        if(ValidateIPaddress(_ethsubnet) == 0)
        {
            return;
        }
    }
    else if(document.getElementById("chkbx_ethsen").checked == false)
    {
        _ENethstaticip = "No";
    }

    send_str = "&console#setting=ethernet?{\"ethen\":\""+ _ENethernet
    + "\",\"ethsen\":\"" + _ENethstaticip
    + "\",\"ethsgway\":\"" + _ethgateway
    + "\",\"ethsip\":\"" + _ethip
    + "\",\"ethssub\":\"" + _ethsubnet
    + "\"}";
  
    sendws(send_str);
    return;
}

function setting_oninput(element)
{
    if(element.id == "idv_mbrxbt")
    {
        document.getElementById("btn_mbsv").disabled = false;
    }
    else if(element.id == "idv_lg_namead")
    {
        document.getElementById("btn_lgcredad_sv").disabled = false;
    }
    else if(element.id == "idv_lg_pswdad")
    {
        document.getElementById("btn_lgcredad_sv").disabled = false;
    }
    if(element.id == "idv_lg_namesv")
    {
        document.getElementById("btn_lgcredsv_sv").disabled = false;
    }
    else if(element.id == "idv_lg_pswdsv")
    {
        document.getElementById("btn_lgcredsv_sv").disabled = false;
    }
    else if(element.id == "idv_wfap_pswd")
    {
        document.getElementById("btn_wfpswd_sv").disabled = false;
    }
    else if(element.id == "chkbx_ethen")
    {
        document.getElementById("btn_cnct_eth").disabled = false;
        if(document.getElementById("chkbx_ethen").checked == false)
        {
            document.getElementById("chkbx_ethsen").checked = false;
            document.getElementById("idv_ethgw").disabled = true;
            document.getElementById("idv_ethsip").disabled = true;
            document.getElementById("idv_ethsubnet").disabled = true;
        }
    }
    else if(element.id == "chkbx_ethsen")
    { 
        document.getElementById("btn_cnct_eth").disabled = false;
        if(document.getElementById("chkbx_ethsen").checked == false)
        {
            document.getElementById("idv_ethgw").disabled = true;
            document.getElementById("idv_ethsip").disabled = true;
            document.getElementById("idv_ethsubnet").disabled = true;
        }
        else if(document.getElementById("chkbx_ethsen").checked == true)
        {
            document.getElementById("chkbx_ethen").checked = true;

            document.getElementById("idv_ethgw").disabled = false;
            document.getElementById("idv_ethsip").disabled = false;
            document.getElementById("idv_ethsubnet").disabled = false;
        }
    }
    else if(element.id == "idv_ethgw")
    {
        document.getElementById("btn_cnct_eth").disabled = false;
    }
    else if(element.id == "idv_ethsip")
    {
        document.getElementById("btn_cnct_eth").disabled = false;
    }
    else if(element.id == "idv_ethsubnet")
    {
        document.getElementById("btn_cnct_eth").disabled = false;
    }
    else if(element.id == "chkbx_slct_boot")
    {
        document.getElementById("btn_swupdate").disabled = false;
        if(document.getElementById("chkbx_slct_boot").checked == true)
        {
            document.getElementById("chkbx_slct_data").checked = false;
            upload_path = "/bootupdate/" + default_path;
        }
        else
        {
            upload_path = "";
            document.getElementById("btn_swupdate").disabled = true;
        }
    }
    else if(element.id == "chkbx_slct_data")
    {
        document.getElementById("btn_swupdate").disabled = false;
        if(document.getElementById("chkbx_slct_data").checked == true)
        {
            document.getElementById("chkbx_slct_boot").checked = false;
            upload_path = "/dataupdate/" + default_path;
        }
        else
        {
            upload_path = "";
            document.getElementById("btn_swupdate").disabled = true;
        }
    }

    else if(element.id == "ct1")
    {
        document.getElementById("ctSubmit").disabled = false;
    }
    else if(element.id == "ct2")
    {
        document.getElementById("ctSubmit").disabled = false;
    }
    return;
}

function onMessage(event)
{
    let dt;
    let dtdt;
    let textsendin_id_val = 0;
    dt = String(event.data);
    if(dt.search("&console") == 0)
    {        
        if(dt.search("#close") == 8)
        { 
            force_close = 1;
            document.getElementById("maxuserdiv").style.display = "block";
            websocket.close();
            return;
        }
        if(dt.search("#start") == 8)
        { 
            textsendin_CntID = 1;
            sendws("&console#persistent");
            DisplayLocationHash();
            return;
        }
        else
        {
            textsendin_id_val = parseInt(dt.split("*")[1]);
            if(textsendin_CntID != textsendin_id_val)
            {
                sendws("&console#start");
                textsendin_CntID  = textsendin_id_val + 1;
                if(textsendin_CntID > 2147483647)
                {
                    textsendin_CntID = 0;
                }
                return;
            }
        }

        textsendin_CntID++;
        if(textsendin_CntID > 2147483647)
        {
            textsendin_CntID = 0;
        }

        dtdt = dt.split("*")[0];

        if(dt.search("#uploadnow") == 8)
        {
            var fileInput = document.getElementById("newfile").files;
            var file = fileInput[0];
            var xhttp = new XMLHttpRequest();
            xhttp.upload.onprogress = event =>
            {
                document.getElementById("idt_swupdate_prcnt").innerHTML = String(((event.loaded/event.total)*100).toFixed(0)) + "%";
                document.getElementById("idt_swupdate_prcnt").style.color = "purple";
            };
            xhttp.onreadystatechange = function() 
            {
                document.getElementById("idt_swupdate_prcnt").innerHTML = "";
                file_transferring = 0;
                if (xhttp.readyState == 4) 
                {
                    if (xhttp.status == 200) 
                    {
                        document.open();
                        document.write(xhttp.responseText);
                        document.close();
                    } 
                    else if (xhttp.status == 0) 
                    {
                        document.getElementById("idt_swupdate_stat").innerHTML = "Unsuccessful";
                        document.getElementById("idt_swupdate_stat").style.color = "red";
                    } 
                    else 
                    {
                        if(xhttp.responseText == "Completed")
                        {
                            document.getElementById("idt_swupdate_stat").innerHTML = xhttp.responseText;
                            document.getElementById("idt_swupdate_stat").style.color = "green";
                        }
                        else
                        {
                            document.getElementById("idt_swupdate_stat").innerHTML = "Unsuccessful";
                            document.getElementById("idt_swupdate_stat").style.color = "red";
                        }
                    }
                    document.getElementById("chkbx_slct_data").disabled = false;
                    document.getElementById("chkbx_slct_boot").disabled = false;
                    document.getElementById("chkbx_slct_boot").checked = false;
                    document.getElementById("chkbx_slct_data").checked = false;
                    initWebSocket();
                }
            };
            force_close = 1;
            websocket.close();
            xhttp.open("POST", upload_path, true);
            xhttp.send(file);
        }
        else if(dtdt.search("#confirm_set_logonad") == 8)
        {
            set_logonad_confirmed = 1;
            sendws("&console#persistent");
        }
        else if(dtdt.search("#confirm_set_logonsv") == 8)
        {
            set_logonsv_confirmed = 1;
            sendws("&console#persistent");
        }
        else if(dtdt.search("#confirm_set_wifiap") == 8)
        {
            set_wifi_ap_confirmed = 1;
            sendws("&console#persistent");
        }
        else if(dtdt.search("#confirm_set_ethernet") == 8)
        {
            set_ethernet_confirmed = 1;
            sendws("&console#persistent");
        }
        else if(dtdt.search("#get=") == 8)
        {
            if(dtdt.search("start") == 13)
            {
                sendws("&console#get=start");
                get_started = 1;
            }
            else if((dtdt.search("set_loginad") == 13) && (set_logonad_confirmed == 0))
            {
                formSubmitSettingLogonAd();
            }
            else if((dtdt.search("set_loginsv") == 13) && (set_logonsv_confirmed == 0))
            {
                formSubmitSettingLogonAd();
            }   
            else if((dtdt.search("set_ap_password") == 13) && (set_wifi_ap_confirmed == 0))
            {
                formSubmitSettingWiFiAPPassword();
            }
            else if((dtdt.search("set_ethernet") == 13) && (set_ethernet_confirmed == 0))
            {
                SaveEthernet();
            }
            else if(dtdt.search("end") == 13)
            {
                document.getElementById("top_bardiv").style.display = "block";
                get_started = 0;
                sendws("&console#get=end");
            }
            else
            {
                sendws("&console#persistent");
            }
            return;
        }
        else if(dtdt.search("#load=") == 8)
        {      
            if(dtdt.search("logon") == 14)
            {
                document.getElementById("top_bardiv").style.display = "block";
                displaylogon();
                return;
            }
        }
        else if(dtdt.search("#mbresp=") == 8)
        {
            let msg;
            msg = dtdt.slice(16).split("*")[0];
            document.getElementById("btn_mbsv").disabled = false;
            document.getElementById("idv_mbrxbt").disabled = false;
            document.getElementById("idt_mbstatus").innerHTML = msg;
            if(msg == "Write Successful")
            {
                document.getElementById("idt_mbstatus").style.color = "green";
            }
            else
            {
                document.getElementById("idt_mbstatus").style.color = "red";
            }
            sendws("&console#persistent");
            return;
        }
        else if(dtdt.search("#persistent=") == 8)
        {
            let obj;
            let datetime_str;
            obj = JSON.parse(dtdt.slice(20).split("*")[0]);
            datetime_str = obj.weekday + " " + obj.day + " " + obj.month + " " + obj.year + " " + obj.hour + ":" + obj.minute + ":" + obj.second;
            document.getElementById("idt_dttm").innerHTML = datetime_str;
            document.getElementById("idt_selaps").innerHTML = obj.sensorelapsed + "s";
            obj = JSON.parse(dtdt.slice(20));
            if(location.hash == "#/")
            {
                document.getElementById("top_bardiv").style.display = "block";
            }
            if(document.getElementById("disconnectmsgdiv").style.display == "block")
            {
                document.getElementById("disconnectmsgdiv").style.display = "none";
                GetLocationHashValue();
            }
            else
            {
                sendws("&console#persistent");
            }
            return;
        }
        else if (dtdt.search("#validate=1") == 8)
        {
            document.getElementById("top_bardiv").style.display = "block";
            if(next_reconnect == 0)
            {
                _displayreadmeter();
            }
            next_reconnect = 1;
            sendws("&console#validate=1z");
            return;  
        }
        else if(dtdt.search("#clients_get_end") == 8)
        {
            if(get_started == 0)
            {
                GetLocationHashValue();
            }
        }
        else if(dtdt.search("#rdmeter=") == 8)
        {
            let jsonData;
            let element_id;
            let value_string;
            let idx;
            jsonData = JSON.parse(dtdt.slice(17).split("*")[0]);
            
            for (idx = 0; idx < jsonData.WAGO8793040.length; idx++)
            {
                value_string = jsonData.WAGO8793040[idx].parameter;
                element_id = "mbe" + String(idx);
                document.getElementById(element_id).innerHTML = value_string;

                value_string = jsonData.WAGO8793040[idx].value + " " + jsonData.WAGO8793040[idx].unit;
                element_id = "vale" + String(idx);
                document.getElementById(element_id).innerHTML = value_string;
            }
            sendws("&console#rdmeterz");
            return;
        }
        else if(dtdt.search("#wrmeter=") == 8)
        {
            let obj = JSON.parse(dtdt.slice(17).split("*")[0]);
            if(obj.access == "administrator")
            {
                document.getElementById("idv_mbrxbt").disabled = false;
                if(document.getElementById("idv_mbrxbt").value.length > 0)
                {
                    document.getElementById("btn_mbsv").disabled = false;
                }
                if(document.getElementById("idt_mbstatus").innerHTML != "Sending..")
                {
                    document.getElementById("idt_mbstatus").innerHTML = "Not Started";
                    document.getElementById("idt_mbstatus").style.color = "orange";
                    document.getElementById("idv_mbrxbt").value = "";
                }
            }
            else if(obj.access == "supervisor")
            {
                document.getElementById("idt_mbstatus").innerHTML = "";
            }
            sendws("&console#wrmeterz");
            return;
        }
        else if(dtdt.search("#setting=") == 8)
        {            
            let obj = JSON.parse(dtdt.slice(17).split("*")[0]);
            if(obj.access == "administrator")
            {
                document.getElementById("idv_lg_namead").disabled = false;
                document.getElementById("idv_lg_pswdad").disabled= false;
                document.getElementById("idv_lg_namesv").disabled= false;
                document.getElementById("idv_lg_pswdsv").disabled= false;
                document.getElementById("idv_wfap_pswd").disabled = false;
                document.getElementById("chkbx_ethen").disabled = false;
                document.getElementById("chkbx_ethsen").disabled = false;
                document.getElementById("newfile").disabled = false;
                document.getElementById("btn_reset").disabled = false;

                document.getElementById("idt_ethcnct_stat").innerHTML = "Not Connected";
                document.getElementById("idt_ethcnct_stat").style.color = "red"; 

                if(((file_transferring == 0) && (upload_once == 0)) || (has_reset == 1))
                {
                    document.getElementById("idt_swupdate_stat").innerHTML = "Not Started";
                    document.getElementById("idt_swupdate_stat").style.color = "orange";
                    document.getElementById("newfile").value= "";
                    document.getElementById("chkbx_slct_boot").disabled = true;
                    document.getElementById("chkbx_slct_data").disabled = true;
                    has_reset = 0; 
                }
                else
                {
                    document.getElementById("chkbx_slct_boot").disabled = false;
                    document.getElementById("chkbx_slct_data").disabled = false;
                }

                document.getElementById("btn_swupdate").disabled = true;

                document.getElementById("idt_ethcnct_stat").innerHTML = obj.ethernet_status_msg;
                
                if(obj.ethernet_status_msg == "Connected")
                {
                    document.getElementById("idt_ethcnct_stat").style.color = "green";
                }
                else if(obj.ethernet_status_msg == "Connecting..")
                {
                    document.getElementById("idt_ethcnct_stat").style.color = "orange";
                }
                else if(obj.ethernet_status_msg == "Not Connected")
                {
                    document.getElementById("idt_ethcnct_stat").style.color = "red";
                }
                if(document.getElementById("btn_lgcredad_sv").disabled == true)
                {
                    document.getElementById("idv_lg_namead").value = obj.username_admin   ;
                    document.getElementById("idv_lg_pswdad").value = obj.userpsw_admin;
                }
                if(document.getElementById("btn_lgcredsv_sv").disabled == true)
                {
                    document.getElementById("idv_lg_namesv").value = obj.username_svisor   ;
                    document.getElementById("idv_lg_pswdsv").value = obj.userpsw_svisor;
                }
                if(document.getElementById("btn_wfpswd_sv").disabled == true)
                {
                    document.getElementById("idv_wfap_pswd").value = obj.wifiappsw;
                }
                if(document.getElementById("btn_cnct_eth").disabled == true)
                {
                    document.getElementById("idv_ethgw").value = obj.ethsgway;
                    document.getElementById("idv_ethsip").value = obj.ethsip;
                    document.getElementById("idv_ethsubnet").value = obj.ethssub;

                    if(obj.ethsen == "No")
                    {
                        document.getElementById("chkbx_ethsen").checked = false;
                        document.getElementById("idv_ethgw").disabled = true;
                        document.getElementById("idv_ethsip").disabled = true;
                        document.getElementById("idv_ethsubnet").disabled = true;
                    }
                    else if(obj.ethsen == "Yes")
                    {
                        document.getElementById("chkbx_ethsen").checked = true;
                        document.getElementById("idv_ethgw").disabled = false;
                        document.getElementById("idv_ethsip").disabled = false;
                        document.getElementById("idv_ethsubnet").disabled = false;
                    }
                    if(obj.ethen == "Yes")
                    {
                        document.getElementById("chkbx_ethen").checked = true;

                        if(obj.ethernet_status_msg == "Connected")
                        {
                            document.getElementById("btn_cnct_eth").disabled = true;
                        }
                        else if(obj.ethernet_status_msg == "Connecting..")
                        {
                            document.getElementById("btn_cnct_eth").disabled = true;
                        }
                        else if(obj.ethernet_status_msg == "Not Connected")
                        {
                            document.getElementById("btn_cnct_eth").disabled = false;
                        }
                    }
                    else if(obj.ethen == "No")
                    {
                        document.getElementById("chkbx_ethen").checked = false;
                        
                        if(obj.ethernet_status_msg == "Connected")
                        {
                            document.getElementById("btn_cnct_eth").disabled = true;
                        }
                        else if(obj.ethernet_status_msg == "Connecting..")
                        {
                            document.getElementById("btn_cnct_eth").disabled = true;
                        }
                        else if(obj.ethernet_status_msg == "Not Connected")
                        {
                            document.getElementById("btn_cnct_eth").disabled = true;
                        }
                    }
                }
            }
            else if(obj.access == "supervisor")
            {
            }
            sendws("&console#settingz");
            return;
        }
        else if(dtdt.search("#infor=") == 8)
        {
            let obj = JSON.parse(dtdt.slice(15).split("*")[0]);
            document.getElementById("FirmVer").innerHTML = obj.FirmVer;
            document.getElementById("networkmode").innerHTML = obj.networkmode;
            document.getElementById("wifimac").innerHTML = obj.wifimac;
            document.getElementById("wifiapip").innerHTML = obj.wifiapip;
            document.getElementById("ethmac").innerHTML = obj.ethmac;
            document.getElementById("ethip").innerHTML = obj.ethip;
            document.getElementById("ethgway").innerHTML = obj.ethgway;
            document.getElementById("ethsub").innerHTML = obj.ethsub;
            document.getElementById("serial").innerHTML = obj.serial;
            sendws("&console#inforz");
            return;
        }
        else if(dtdt.search("#inform=") == 8)
        {
            let jsonData;
            let element_id;
            let value_string;
            let idx;
            jsonData = JSON.parse(dtdt.slice(16).split("*")[0]);
            
            for (idx = 0; idx < jsonData.WAGO8793040.length; idx++)
            {
                value_string = jsonData.WAGO8793040[idx].parameter;
                element_id = "mbi" + String(idx);
                document.getElementById(element_id).innerHTML = value_string;

                value_string = jsonData.WAGO8793040[idx].value + " " + jsonData.WAGO8793040[idx].unit;
                element_id = "vali" + String(idx);
                document.getElementById(element_id).innerHTML = value_string;
            }
            sendws("&console#informz");
            return;;
        }
        return;
    }
    sendws("&console#persistent");
    return;
}

function _displaylogon()
{
    display_instruction = 1;
    location.hash = "/";
    document.getElementById("submit").disabled = false;
    if(next_reconnect == 1)
    {
        location.reload();
    }
    document.getElementById("consolediv").style.display = "none";
    document.getElementById("logondiv").style.display = "block";
    document.getElementById("disconnectmsgdiv").style.display = "none";
    return;
}

function displaylogon()
{
    sendws("&console#persistent");
    _displaylogon();
    return;
}

function _displayreadmeter()
{ 
    display_instruction = 1;
    location.hash = "/rdmeter";
    document.getElementById("consolediv").style.display = "block";
    document.getElementById("logondiv").style.display = "none";

    document.getElementById("readmeter-label").style.background = "CornflowerBlue";
    document.getElementById("writemeter-label").style.background = "#c4ccff";
    document.getElementById("setting-label").style.background = "#c4ccff";
    document.getElementById("infor-label").style.background = "#c4ccff";

    document.getElementById("readmeterdivbox").style.display = "block";
    document.getElementById("writemeterdivbox").style.display = "none";
    document.getElementById("settingdivbox").style.display = "none";
    document.getElementById("infordivbox").style.display = "none";
    return;
}

function displayreadmeter()
{  
    sendws("&console#rdmeter?");
    _displayreadmeter();
    return;
}

function _displaywritemeter()
{ 
    display_instruction = 1;
    location.hash = "/wrmeter";

    document.getElementById("btn_mbsv").disabled = true;
    document.getElementById("idv_mbrxbt").disabled = true;

    document.getElementById("consolediv").style.display = "block";
    document.getElementById("logondiv").style.display = "none";

    document.getElementById("readmeter-label").style.background = "#c4ccff";
    document.getElementById("writemeter-label").style.background = "CornflowerBlue";
    document.getElementById("setting-label").style.background = "#c4ccff";
    document.getElementById("infor-label").style.background = "#c4ccff";

    document.getElementById("readmeterdivbox").style.display = "none";
    document.getElementById("writemeterdivbox").style.display = "block";
    document.getElementById("settingdivbox").style.display = "none";
    document.getElementById("infordivbox").style.display = "none";
    return;
}

function displaywritemeter()
{
    _displaywritemeter();
    sendws("&console#wrmeter?");
    return; 
}

function _displaysetting()
{
    display_instruction = 1;
    location.hash = "/setting";
    document.getElementById("idv_lg_namead").value= "";
    document.getElementById("idv_lg_pswdad").value= "";
    document.getElementById("idv_lg_namead").disabled = true;
    document.getElementById("idv_lg_pswdad").disabled= true;
    document.getElementById("btn_lgcredad_sv").disabled = true;

    document.getElementById("idv_lg_namesv").value= "";
    document.getElementById("idv_lg_pswdsv").value= "";
    document.getElementById("idv_lg_namesv").disabled= true;
    document.getElementById("idv_lg_pswdsv").disabled= true;
    document.getElementById("btn_lgcredsv_sv").disabled = true;

    document.getElementById("idv_wfap_pswd").value = "";
    document.getElementById("idv_wfap_pswd").disabled = true;
    document.getElementById("btn_wfpswd_sv").disabled = true;

    document.getElementById("idt_ethcnct_stat").innerHTML = "";
    document.getElementById("chkbx_ethen").checked = false;
    document.getElementById("chkbx_ethsen").checked = false;
    document.getElementById("chkbx_ethen").disabled = true;
    document.getElementById("chkbx_ethsen").disabled = true;
    document.getElementById("idv_ethsip").value= "";
    document.getElementById("idv_ethgw").value= "";
    document.getElementById("idv_ethgw").value= "";
    document.getElementById("idv_ethsubnet").value = "";
    document.getElementById("idv_ethsip").disabled = true;
    document.getElementById("idv_ethgw").disabled = true;
    document.getElementById("idv_ethgw").disabled = true;
    document.getElementById("idv_ethsubnet").disabled = true;
    document.getElementById("btn_cnct_eth").disabled = true;
    if(has_reset == 1)
    {
        document.getElementById("newfile").value= "";
    }
    document.getElementById("newfile").disabled = true;
    document.getElementById("chkbx_slct_boot").checked = false;
    document.getElementById("chkbx_slct_data").checked = false;
    document.getElementById("btn_swupdate").disabled = true;
    document.getElementById("chkbx_slct_boot").disabled = true;
    document.getElementById("chkbx_slct_data").disabled = true;

    document.getElementById("btn_reset").disabled = true;

    document.getElementById("consolediv").style.display = "block";
    document.getElementById("logondiv").style.display = "none";

    document.getElementById("readmeter-label").style.background = "#c4ccff";
    document.getElementById("writemeter-label").style.background = "#c4ccff";
    document.getElementById("setting-label").style.background = "CornflowerBlue";
    document.getElementById("infor-label").style.background = "#c4ccff";

    document.getElementById("readmeterdivbox").style.display = "none";
    document.getElementById("writemeterdivbox").style.display = "none";
    document.getElementById("settingdivbox").style.display = "block";
    document.getElementById("infordivbox").style.display = "none";
    return;
}

function displaysetting()
{  
    _displaysetting();
    sendws("&console#setting?");
    return;
}

function _displayinfor()
{ 
    display_instruction = 1;
    location.hash = "/infor";
    document.getElementById("consolediv").style.display = "block";
    document.getElementById("logondiv").style.display = "none";

    document.getElementById("readmeter-label").style.background = "#c4ccff";
    document.getElementById("writemeter-label").style.background = "#c4ccff";
    document.getElementById("setting-label").style.background = "#c4ccff";
    document.getElementById("infor-label").style.background = "CornflowerBlue";

    document.getElementById("readmeterdivbox").style.display = "none";
    document.getElementById("writemeterdivbox").style.display = "none";
    document.getElementById("settingdivbox").style.display = "none";
    document.getElementById("infordivbox").style.display = "block";
    return;
}

function displayinfor()
{
    sendws("&console#infor?");
    _displayinfor();
    return;
}
        </script>
    </body>  
</html>